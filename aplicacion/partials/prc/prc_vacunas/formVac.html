        <fieldset>
        
	        <div class="modal fade modal-primary" id="notificacionesModal"
				tabindex="-1" role="dialog">
				<div class="modal-dialog modal-sm" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"
								aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
							<h4 class="modal-title">Notificaciones</h4>
						</div>
						<div class="modal-body">
						
				            <!-- We output a list of success messages (appropriately styled!) for the form. -->
				            <ul ng-hide="!successMessages" class="success">
				                <li ng-repeat="message in successMessages">{{message}}</li>
				            </ul>
				
				            <!-- Output the list of error messages if any. -->
				            <ul ng-hide="!errorMessages" class="error">
				                <li ng-repeat="message in errorMessages">{{message}}</li>
				            </ul>
						
						</div>
						<div class="modal-footer">
		
						</div>
					</div>
					<!-- /.modal-content -->
				</div>
				<!-- /.modal-dialog -->
			</div>
		
       <form name="regForm" class="form-horizontal" ng-submit="registerVac(formType)">
            <div ng-show="isNew(formType)">
          		<legend>Ingrese un nuevo Usuario</legend>
        	</div>
        	
        	<div ng-show="!isNew(formType)">
          		<legend>Modificaci&oacute;n del Usuario</legend>
        	</div>
        	
        	<div class="form-group">
        		<input type="hidden" name="formType" id="formType"  ng-model="formType" />
        	</div>

        	<div class="box box-default box-solid">
		    	<div class="box-header with-border">
			        <h3 class="box-title">Usuarios</h3>
			        <div class="box-tools pull-right">
				        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
			            </button>
			    	</div>
			        <!-- /.box-tools -->
			 	</div>
			    <!-- /.box-header -->
			    <div class="box-body">
     
		            <div class="form-group" ng-class="{ 'has-error': regForm.estado.$error.required }">	
						<label for="empresa" class="col-sm-2 control-label">Empresa:</label>
						<div class="col-sm-2">
							<ui-select ng-model="newUsuario.id_empresa" name="idempresa" id="idempresa" ng-required="true" ng-change="updateAlmacen()" autofocus>
								<ui-select-match allow-clear="true">
								   <span ng-bind="$select.selected.descripcion"></span>
								</ui-select-match>
								<ui-select-choices repeat="empresa.id.id as empresa in (empresa | propsFilter: {descripcion: $select.search}) track by empresa.id.id">
								   <div ng-bind-html="empresa.descripcion | highlight: $select.search"></div>
								</ui-select-choices>
							</ui-select>
							<span class="error help-block" ng-show="regForm.idempresa.$error.required">Requerido</span>
							<span class="error help-block" ng-show="errors.idempresa">{{errors.idempresa}}</span>
						</div>
					
						
						<label for="almacen" class="col-sm-2 control-label">Almacen:</label>
						<div class="col-sm-2">
							<ui-select ng-model="newUsuario.id_almacen" name="idalmacen" id="idalmacen" ng-required="true" ng-change="loadEmpleados()">
								<ui-select-match allow-clear="true">
									<span ng-bind="$select.selected.descripcion"></span>
								</ui-select-match>
								<ui-select-choices repeat="almacen.id.id as almacen in (almacen | propsFilter: {descripcion: $select.search}) track by almacen.id.id">
									<div ng-bind-html="almacen.descripcion | highlight: $select.search"></div>
								</ui-select-choices>
							</ui-select>
							<span class="error help-block" ng-show="regForm.idalmacen.$error.required">Requerido</span>
							<span class="error help-block" ng-show="errors.idalmacen">{{errors.idalmacen}}</span>
						</div>
					</div>
					<div class="form-group" ng-class="{ 'has-error': regForm.clave.$error.required }">
						<label for="empleado" class="col-sm-2 control-label">Empleado:</label>
						<div class="col-sm-2">					
							<ui-select ng-model="newUsuario.id_empleado" name="empleado" id="empleado" ng-required="true" >
								<ui-select-match allow-clear="true">
									<span ng-bind="$select.selected.nombre"></span>
								</ui-select-match>
								<ui-select-choices repeat="empleado.id.id as empleado in (empleado | propsFilter: {nombre: $select.search}) track by empleado.id.id">
									<div ng-bind-html="empleado.nombre | highlight: $select.search"></div>
								</ui-select-choices>
							</ui-select>
							<span class="error help-block" ng-show="regForm.empleado.$error.required">Requerido</span>
							<span class="error help-block" ng-show="errors.empleado">{{errors.empleado}}</span>
						</div>
			

						<label for="tipo_usuario" class="col-sm-2 control-label">Tipo:</label>
						<div class="col-sm-2">
							<select class="form-control" name="tipo_usuario" id="tipo_usuario" ng-model="newUsuario.tipo_usuario" style="width: 100%;" required>
								<option value="1">Empleado</option>
		           				<option value="2">Externo</option>
						    </select>
						  	<span class="error help-block" ng-show="regForm.tipo_usuario.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.tipo_usuario">{{errors.tipo_usuario}}</span>
					    </div>
					</div>  
					
		            <div class="form-group" ng-class="{ 'has-error': regForm.nombre.$error.required }">
		                 
					
		                <label for="nombre" class="col-sm-2 control-label">Nombre:</label>
		                <div class="col-sm-4">
		                    <input type="text" class="form-control" name="nombre" id="nombre"  ng-model="newUsuario.nombre" placeholder="Nombre del Usuario" required autocomplete="nope"/>
		                    <span class="error help-block" ng-show="regForm.nombre.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.nombre">{{errors.nombre}}</span>
		                </div>
					
					
					<!--  <div class="form-group" ng-class="{ 'has-error': regForm.apellido.$error.required }">-->
		                <label for="apellido" class="col-sm-1 control-label">Apellido:</label>
		                <div class="col-sm-4">
		                    <input type="text" class="form-control" name="apellido" id="apellido"  ng-model="newUsuario.apellido" placeholder="Apellido del Usuario" required autocomplete="nope"/>
		                    <span class="error help-block" ng-show="regForm.apellido.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.apellido">{{errors.apellido}}</span>
		                </div>
					</div>
					<div class="form-group" ng-class="{ 'has-error': regForm.usr.$error.required }">
		                <label for="usr" class="col-sm-2 control-label">Usuario:</label>
		                <div class="col-sm-4">
		                    <input type="text" class="form-control" name="usr" id="usr"  ng-model="newUsuario.usr" placeholder="Usuario" required autocomplete="nope"/>
		                    <span class="error help-block" ng-show="regForm.usr.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.usr">{{errors.usr}}</span>
		                </div>		               
		
		           <!-- <div class="form-group" ng-class="{ 'has-error': regForm.clave.$error.required }">-->
		                <label for="clave" class="col-sm-1 control-label">Contrase&ntilde;a:</label>
		                <div class="col-sm-2">
		                    <input type="password" class="form-control" name="clave" id="clave" autocomplete="new-password" ng-model="newUsuario.clave" placeholder="Contrase&ntilde;a del usuario" required />
		                    <span class="error help-block" ng-show="regForm.clave.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.clave">{{errors.clave}}</span>
		                </div>
		            </div>
					
					   <div class="form-group" ng-class="{ 'has-error': regForm.email.$error.required }">
		                <label for="email" class="col-sm-2 control-label">Correo Electronico:</label>
		                <div class="col-sm-4">
		                    <input type="text" class="form-control" name="email" id="email"  ng-model="newUsuario.email" placeholder="Correo electr&oacute;nico del usuario" autocomplete="nope" />
		                    <span class="error help-block" ng-show="regForm.email.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.email">{{errors.email}}</span>
		                </div>
					</div>
					

						
					 
					<div class="form-group" ng-class="{ 'has-error': regForm.clave.$error.required }">
						<label for="estado" class="col-sm-2 control-label">Estado:</label>
						<div class="col-sm-2">
							<label class="switch">
								<input type="checkbox" name="estado" id="estado" ng-model="newUsuario.estado">
								<div class="slider round">
									<span class="on">Activo</span>
									<span class="off">Inactivo</span>
								</div>
							</label>
						  	<span class="error help-block" ng-show="regForm.estado.$error.required">Requerido</span>
		                    <span class="error help-block" ng-show="errors.estado">{{errors.estado}}</span>
					    </div>
		            </div>            
		
		         
		            
		         <!--  <div class="form-group" ng-class="{ 'has-error': regForm.estudiante.$error.required }">
		             	<label for="estudiante" class="col-sm-2 control-label">Seleccionar Estudiante:</label>
						<div class="col-sm-4">			                
							<ui-select ng-model="newUsuario.estudiante" name="estudiante" id="estudiante" >
							    <ui-select-match>
							        <span ng-bind="$select.selected.p_nombre"></span>
							    </ui-select-match>
							    <ui-select-choices repeat="est in (estudiantes | propsFilter: {p_nombre: $select.search, s_nombre: $select.search, p_apellido: $select.search}) track by est.id.id">
							        <div ng-bind-html="est.p_nombre | highlight: $select.search"></div>
							        <small>
							        	<span ng-bind-html="''+est.s_nombre | highlight: $select.search"></span>
							        	<span ng-bind-html="''+est.p_apellido | highlight: $select.search"></span>
							        </small>
							    </ui-select-choices>
							</ui-select>
		                    <span class="error help-block" ng-show="regForm.estudiante.$error.required">Requerido</span>
	    	                <span class="error help-block" ng-show="errors.estudiante">{{errors.estudiante}}</span>
					    </div>
		            </div>   -->  
		              
				</div>		            
		        <!-- /.box-body -->
	            <div class="box-footer">
					<input type="submit" ng-disabled="regForm.$invalid" id="guardar" value="Guardar" class="btn btn-primary pull-right" />
	            </div>    
	                          
			</div>

		</form>
		
			<div id="rolesUsuario" ng-show="isVisibleAfterUsuario" class="box box-default collapsed-box box-solid">
		    	<div class="box-header with-border">
			        <h3 class="box-title">Roles por Usuario</h3>
			        <div class="box-tools pull-right">
				        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i>
			            </button>
			    	</div>
			        <!-- /.box-tools -->
			 	</div>
			    <!-- /.box-header -->
			    <div class="box-body" ng-controller="RolUsuarioCtrl">
			    	<div ng-include="'partials/security/usuario/roles/formRoles.html'"></div>  
			   	</div>
		        <!-- /.box-body -->
		 	</div>

        </fieldset>
